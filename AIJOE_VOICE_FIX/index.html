
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>AIJOE â€“ Voice Fix</title>
<link rel="manifest" href="manifest.json"/>
<meta name="theme-color" content="#0d1117"/>
<style>
 body{margin:0;font-family:Arial;background:#0d1117;color:#fff;text-align:center;padding:20px}
 h1{font-size:2em;margin-bottom:10px}
 button{background:#1e90ff;color:#fff;border:none;padding:12px 18px;margin:8px;border-radius:12px;font-size:1em;cursor:pointer}
 .log{margin-top:12px;color:#a8d1ff}
</style>
</head>
<body>
<h1>ğŸ¾ AIJOE</h1>
<button id="micBtn">ğŸ¤ Talk to Joey</button>
<div id="log" class="log">Tap mic and allow microphone. Say â€œWeatherâ€.</div>

<script>
const synth = window.speechSynthesis;
function speak(t){
 const u=new SpeechSynthesisUtterance(t);
 u.voice=synth.getVoices().find(v=>v.lang.startsWith('en'))||null;
 synth.speak(u);
}
function supportsRec(){
 return !!(window.SpeechRecognition||window.webkitSpeechRecognition);
}
document.getElementById('micBtn').onclick=()=>{
 if(!supportsRec()){document.getElementById('log').textContent="SpeechRecognition not supported on this browser.";speak("Sorry, voice input not supported.");return;}
 const Rec=window.SpeechRecognition||window.webkitSpeechRecognition;
 const rec=new Rec();
 rec.lang='en-US';
 rec.interimResults=false;
 rec.maxAlternatives=1;
 rec.start();
 document.getElementById('log').textContent='ğŸ™ï¸ Listening... Tap mic again to restart.';
 rec.onresult=e=>{
   const text=e.results[0][0].transcript.toLowerCase();
   document.getElementById('log').textContent='You said: '+text;
   if(text.includes('weather')){speak("It's a beautiful day!");}
   else{ speak("You said "+text);}
 };
 rec.onerror=e=>{
   document.getElementById('log').textContent='Error: '+e.error;
   if(e.error==='not-allowed'){speak("Please allow microphone access in your browser settings.");}
   else{ speak("Sorry, I couldn't hear.");}
 };
};
</script>
</body>
</html>
